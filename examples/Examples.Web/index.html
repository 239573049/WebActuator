<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/logo.png" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>在线编辑器</title>
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.tsx"></script>
    <script src="_framework/blazor.webassembly.js" autostart="false"></script>
    <script type="module">
      import { BrotliDecode } from './decode.min.js';
      import * as exportManage from './exportManage.js';
      window.exportManage = exportManage;
      Blazor.start({
          loadBootResource: function (type, name, defaultUri, integrity) {
              if (type !== 'dotnetjs' ) {
                  return (async function () {
                      const response = await fetch(defaultUri + '.br', { cache: 'no-cache' });
                      if (!response.ok) {
                          throw new Error(response.statusText);
                      }
                      const originalResponseBuffer = await response.arrayBuffer();
                      const originalResponseArray = new Int8Array(originalResponseBuffer);
                      const decompressedResponseArray = BrotliDecode(originalResponseArray);
                      const contentType = type ===
                          'dotnetwasm' ? 'application/wasm' : 'application/octet-stream';
                      return new Response(decompressedResponseArray,
                          { headers: { 'content-type': contentType } });
                  })();
              }
          }
      });


  </script>
  </body>
</html>
